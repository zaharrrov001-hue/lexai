# üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ LexAI –Ω–∞ Mastra Cloud

## ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!

–í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã, —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ.

## üìã –®–∞–≥–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://cloud.mastra.ai/
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
4. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   - Repository: `zaharrrov001-hue/lexai`
   - Branch: `main`
   - Project root: `.` (–∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
   - Mastra directory: `src/mastra` (–ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º `mastra`)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `OPENAI_API_KEY`

1. –í –ø—Ä–æ–µ–∫—Ç–µ Mastra Cloud –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Environment Variables**
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name**: `OPENAI_API_KEY`
   - **Value**: –≤–∞—à –∫–ª—é—á OpenAI (—Ñ–æ—Ä–º–∞—Ç: `sk-...`)
   - –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á: https://platform.openai.com/api-keys

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:**
- `DATABASE_URL` - –¥–ª—è –≤–Ω–µ—à–Ω–µ–π –ë–î (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª–æ–≤–∞—è –ë–î)
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4111, Mastra Cloud —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `CORS_ORIGIN` - —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã –¥–ª—è CORS (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `*`)

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ç–æ–∫–µ–Ω Mastra Cloud –∏ OPENAI_API_KEY:

```bash
cd mastra
export MASTRA_CLOUD_TOKEN="your-mastra-cloud-token"
export OPENAI_API_KEY="sk-your-openai-key"
node setup-mastra-cloud.js
```

–°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ–±—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ API
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** API endpoints –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è. –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

### 4. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Mastra Cloud –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –ö–ª–æ–Ω–∏—Ä—É–µ—Ç –∫–æ–¥
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`npm install`)
   - –°–æ–±–µ—Ä–µ—Ç –ø—Ä–æ–µ–∫—Ç (`mastra build`)
   - –ó–∞–ø—É—Å—Ç–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Build successful`
   - Readiness probe –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ
   - –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. **API Endpoint**: Mastra Cloud –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç URL –≤–∞—à–µ–≥–æ –∞–≥–µ–Ω—Ç–∞
2. **–¢–µ—Å—Ç –∑–∞–ø—Ä–æ—Å–∞**:
   ```bash
   curl -X POST https://your-project.mastra.ai/api/agents/lexaiAgent/run \
     -H "Content-Type: application/json" \
     -d '{"messages": [{"role": "user", "content": "–ü—Ä–∏–≤–µ—Ç!"}]}'
   ```

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
mastra/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ mastra/
‚îÇ       ‚îú‚îÄ‚îÄ index.ts          # –≠–∫—Å–ø–æ—Ä—Ç mastra instance (–≥–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
‚îÇ       ‚îú‚îÄ‚îÄ agents/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ lexai-agent.ts # LexAI –∞–≥–µ–Ω—Ç —Å Memory
‚îÇ       ‚îî‚îÄ‚îÄ tools/
‚îÇ           ‚îú‚îÄ‚îÄ web-search-tool.ts
‚îÇ           ‚îú‚îÄ‚îÄ document-analysis-tool.ts
‚îÇ           ‚îî‚îÄ‚îÄ legal-query-tool.ts
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ env.example
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **OPENAI_API_KEY –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –¥–ª—è —Ä–∞–±–æ—Ç—ã Memory —Å semantic recall
   - –ë–µ–∑ –Ω–µ–≥–æ Memory —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å `lastMessages` (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π)
   - Semantic recall –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω

2. **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç mock-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**
   - `webSearchTool` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - `documentAnalysisTool` - –±–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
   - `legalQueryTool` - –ø—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤
   - –î–ª—è production –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ API (Firecrawl, LlamaCloud –∏ —Ç.–¥.)

3. **Memory –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞:**
   - –ò—Å—Ç–æ—Ä–∏—è: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π
   - Semantic recall: 5 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (—Ç—Ä–µ–±—É–µ—Ç OPENAI_API_KEY)
   - Working memory: –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø–∞–º—è—Ç—å –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
   - –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ç—Ä–µ–¥–æ–≤

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

### –û—à–∏–±–∫–∞: "API key not found for provider openai"
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ `OPENAI_API_KEY` –≤ Environment Variables

### –û—à–∏–±–∫–∞: "Readiness probe failed"
**–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `OPENAI_API_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –ª–æ–∫–∞–ª—å–Ω–æ

### –û—à–∏–±–∫–∞: "Repository not found"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `zaharrrov001-hue/lexai` –ø—É–±–ª–∏—á–Ω—ã–π –∏–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ GitHub —Ç–æ–∫–µ–Ω –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:

- Mastra Cloud: https://cloud.mastra.ai/
- Mastra Docs: https://docs.mastra.ai/
- Memory System: https://docs.mastra.ai/memory/
- GitHub Repo: https://github.com/zaharrrov001-hue/lexai

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º:

- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ Mastra Cloud
- [ ] `OPENAI_API_KEY` –¥–æ–±–∞–≤–ª–µ–Ω –≤ Environment Variables
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (`npm run build`)
- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Mastra Cloud

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!** üéâ

